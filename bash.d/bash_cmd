#!/bin/bash

if ! [ -S "${SSH_AUTH_SOCK}" ]; then
    SSH_FIX_ENV="$HOME/.ssh-agent-fwd.`hostname`"

    if [ -f "${SSH_FIX_ENV}" ]; then
        . "${SSH_FIX_ENV}"
    fi
fi

# prompt colors
T_COLOR="\[\e[32m\]@ "
F_COLOR="\[\e[31m\]@! "
W_COLOR="\[\e[1;33m\]"
if [ "`id -u`" -eq 0 ]; then
    T_COLOR="\[\e[35m\]@ "
    F_COLOR="\[\e[31m\]@! "
else
    if [ -n "$VIM" ]; then
        T_COLOR="\[\e[32m\]@\[\e[1;32m\]* "
        F_COLOR="\[\e[31m\]@! "
    fi
fi

if [ -O "${PWD}" ]; then
    W_COLOR="\[\e[34m\]"
else
    if [ -w "${PWD}" ]; then
        W_COLOR="\[\e[32m\]"
    fi
fi

# set the terminal window title
TERM_TITLE="${USER}@${HOSTNAME%%.*}"
echo -ne "\033]0;${TERM_TITLE}\007"

